import React, { useState } from "react";
import { DrawerScreenProps } from "@react-navigation/drawer";
import { NativeStackScreenProps } from "@react-navigation/native-stack";
import { Alert, FlatList, Keyboard, LayoutAnimation, NativeScrollEvent, NativeSyntheticEvent, Text, TextInput, TouchableOpacity, View } from "react-native";
import { SafeAreaView } from "react-native-safe-area-context";
import styles from "./styles";
import MapView, { Callout, LatLng, MapPressEvent, MapViewProps, Marker, Polygon, Polyline } from "react-native-maps";
import MapViewDirections from 'react-native-maps-directions';
import Button from "../../library/components/Button";
import { getAreas } from "../../library/apis/mapsApis";

type Props = NativeStackScreenProps<any> & DrawerScreenProps<any>


const PlansScreen: React.FC<Props> = ({ navigation }) => {
	const [cordinitis, setCodinites] = useState<Array<LatLng>>([{
		"longitude": 77.3273146,
		"latitude": 28.6936705
	}, {
		"longitude": 77.3254114,
		"latitude": 28.6963128
	}, {
		"longitude": 77.3238441,
		"latitude": 28.6984887
	}, {
		"longitude": 77.3236879,
		"latitude": 28.6987055
	}, {
		"longitude": 77.3256806,
		"latitude": 28.7020986
	}, {
		"latitude": 77.3258776,
		"longitude": 28.702434
	}, {
		"latitude": 77.3256666,
		"longitude": 28.7056107
	}, {
		"latitude": 77.325427,
		"longitude": 28.7087935
	}, {
		"latitude": 77.328209,
		"longitude": 28.7114762
	}, {
		"latitude": 77.3311068,
		"longitude": 28.7131973
	}, {
		"latitude": 77.3281119,
		"longitude": 28.7130927
	}, {
		"latitude": 77.3271329,
		"longitude": 28.7133516
	}, {
		"latitude": 77.3262756,
		"longitude": 28.7131088
	}, {
		"latitude": 77.3245283,
		"longitude": 28.7130415
	}, {
		"latitude": 77.3235062,
		"longitude": 28.7121875
	}, {
		"latitude": 77.3225002,
		"longitude": 28.7114612
	}, {
		"latitude": 77.3213854,
		"longitude": 28.7126223
	}, {
		"latitude": 77.3206527,
		"longitude": 28.7129281
	}, {
		"latitude": 77.3201378,
		"longitude": 28.7131049
	}, {
		"latitude": 77.3187224,
		"longitude": 28.7135908
	}, {
		"latitude": 77.3172355,
		"longitude": 28.7141043
	}, {
		"latitude": 77.3158161,
		"longitude": 28.7128444
	}, {
		"latitude": 77.3135116,
		"longitude": 28.713441
	}, {
		"latitude": 77.3044242,
		"longitude": 28.7118347
	}, {
		"latitude": 77.2990287,
		"longitude": 28.7098032
	}, {
		"latitude": 77.2968754,
		"longitude": 28.7036517
	}, {
		"latitude": 77.292275,
		"longitude": 28.7058931
	}, {
		"latitude": 77.2912591,
		"longitude": 28.7063661
	}, {
		"latitude": 77.2892268,
		"longitude": 28.7083785
	}, {
		"latitude": 77.2873192,
		"longitude": 28.7123335
	}, {
		"latitude": 77.2868489,
		"longitude": 28.7133476
	}, {
		"latitude": 77.2863386,
		"longitude": 28.7144478
	}, {
		"latitude": 77.2893996,
		"longitude": 28.717168
	}, {
		"latitude": 77.2897332,
		"longitude": 28.7209279
	}, {
		"latitude": 77.2908705,
		"longitude": 28.7227353
	}, {
		"latitude": 77.2884005,
		"longitude": 28.7239979
	}, {
		"latitude": 77.2866348,
		"longitude": 28.7249004
	}, {
		"latitude": 77.286462,
		"longitude": 28.7249887
	}, {
		"latitude": 77.2843538,
		"longitude": 28.7279871
	}, {
		"latitude": 77.2800429,
		"longitude": 28.732486
	}, {
		"latitude": 77.2756656,
		"longitude": 28.7355624
	}, {
		"latitude": 77.2735863,
		"longitude": 28.7359584
	}, {
		"latitude": 77.260922,
		"longitude": 28.7355868
	}, {
		"latitude": 77.2558344,
		"longitude": 28.7385417
	}, {
		"latitude": 77.2553291,
		"longitude": 28.7410543
	}, {
		"latitude": 77.2557368,
		"longitude": 28.7411888
	}, {
		"latitude": 77.2558891,
		"longitude": 28.7430401
	}, {
		"latitude": 77.2570929,
		"longitude": 28.7450221
	}, {
		"latitude": 77.2577545,
		"longitude": 28.7467624
	}, {
		"latitude": 77.257846,
		"longitude": 28.7470032
	}, {
		"latitude": 77.2589801,
		"longitude": 28.7476974
	}, {
		"latitude": 77.2594779,
		"longitude": 28.748734
	}, {
		"latitude": 77.2596506,
		"longitude": 28.7497903
	}, {
		"latitude": 77.2596249,
		"longitude": 28.7505418
	}, {
		"latitude": 77.2589039,
		"longitude": 28.7512558
	}, {
		"latitude": 77.2586711,
		"longitude": 28.7526338
	}, {
		"latitude": 77.2553151,
		"longitude": 28.7541227
	}, {
		"latitude": 77.2548484,
		"longitude": 28.7558487
	}, {
		"latitude": 77.2537036,
		"longitude": 28.7556154
	}, {
		"latitude": 77.2521898,
		"longitude": 28.7554367
	}, {
		"latitude": 77.2505923,
		"longitude": 28.7552213
	}, {
		"latitude": 77.2484487,
		"longitude": 28.7555044
	}, {
		"latitude": 77.246805,
		"longitude": 28.7559465
	}, {
		"latitude": 77.2454961,
		"longitude": 28.7565635
	}, {
		"latitude": 77.2441496,
		"longitude": 28.7573122
	}, {
		"latitude": 77.2425564,
		"longitude": 28.7578718
	}, {
		"latitude": 77.2403226,
		"longitude": 28.7582246
	}, {
		"latitude": 77.2381149,
		"longitude": 28.7591641
	}, {
		"latitude": 77.2386778,
		"longitude": 28.7619672
	}, {
		"latitude": 77.23559,
		"longitude": 28.7712591
	}, {
		"latitude": 77.2334828,
		"longitude": 28.7711838
	}, {
		"latitude": 77.2328799,
		"longitude": 28.774953
	}, {
		"latitude": 77.2210395,
		"longitude": 28.7791603
	}, {
		"latitude": 77.2280336,
		"longitude": 28.7845746
	}, {
		"latitude": 77.2244287,
		"longitude": 28.7863875
	}, {
		"latitude": 77.2137954,
		"longitude": 28.7843867
	}, {
		"latitude": 77.2072766,
		"longitude": 28.7866961
	}, {
		"latitude": 77.2033005,
		"longitude": 28.791877
	}, {
		"latitude": 77.2018972,
		"longitude": 28.7938703
	}, {
		"latitude": 77.2000239,
		"longitude": 28.7969636
	}, {
		"latitude": 77.1992836,
		"longitude": 28.801029
	}, {
		"latitude": 77.1992428,
		"longitude": 28.8045263
	}, {
		"latitude": 77.2006007,
		"longitude": 28.8087861
	}, {
		"latitude": 77.2021248,
		"longitude": 28.8135672
	}, {
		"latitude": 77.2187202,
		"longitude": 28.8108429
	}, {
		"latitude": 77.2184241,
		"longitude": 28.8134714
	}, {
		"latitude": 77.2193639,
		"longitude": 28.8174872
	}, {
		"latitude": 77.2207713,
		"longitude": 28.8187176
	}, {
		"latitude": 77.2231209,
		"longitude": 28.8196257
	}, {
		"latitude": 77.2232518,
		"longitude": 28.8205845
	}, {
		"latitude": 77.2232111,
		"longitude": 28.8214812
	}, {
		"latitude": 77.2236692,
		"longitude": 28.8223178
	}, {
		"latitude": 77.2231166,
		"longitude": 28.8231092
	}, {
		"latitude": 77.2215161,
		"longitude": 28.8252684
	}, {
		"latitude": 77.2209282,
		"longitude": 28.8266971
	}, {
		"latitude": 77.2209196,
		"longitude": 28.8285844
	}, {
		"latitude": 77.2214282,
		"longitude": 28.8304417
	}, {
		"latitude": 77.222132,
		"longitude": 28.8333328
	}, {
		"latitude": 77.2207844,
		"longitude": 28.8341261
	}, {
		"latitude": 77.2150039,
		"longitude": 28.841516
	}, {
		"latitude": 77.2150576,
		"longitude": 28.8460011
	}, {
		"latitude": 77.2161386,
		"longitude": 28.8477203
	}, {
		"latitude": 77.2165678,
		"longitude": 28.8493348
	}, {
		"latitude": 77.2154884,
		"longitude": 28.8527816
	}, {
		"latitude": 77.2141885,
		"longitude": 28.8561383
	}, {
		"latitude": 77.2112892,
		"longitude": 28.8564633
	}, {
		"latitude": 77.2090846,
		"longitude": 28.8572987
	}, {
		"latitude": 77.2063735,
		"longitude": 28.8570666
	}, {
		"latitude": 77.2048424,
		"longitude": 28.8569012
	}, {
		"latitude": 77.2040496,
		"longitude": 28.8569304
	}, {
		"latitude": 77.2025003,
		"longitude": 28.857652
	}, {
		"latitude": 77.1992077,
		"longitude": 28.8591432
	}, {
		"latitude": 77.1970737,
		"longitude": 28.8594298
	}, {
		"latitude": 77.1961842,
		"longitude": 28.8593537
	}, {
		"latitude": 77.1949869,
		"longitude": 28.8592513
	}, {
		"latitude": 77.1919948,
		"longitude": 28.8586565
	}, {
		"latitude": 77.1904165,
		"longitude": 28.8583427
	}, {
		"latitude": 77.1840628,
		"longitude": 28.8579386
	}, {
		"latitude": 77.1821542,
		"longitude": 28.8577864
	}, {
		"latitude": 77.1804837,
		"longitude": 28.8578371
	}, {
		"latitude": 77.1782296,
		"longitude": 28.8585973
	}, {
		"latitude": 77.1751944,
		"longitude": 28.8585344
	}, {
		"latitude": 77.1731548,
		"longitude": 28.857496
	}, {
		"latitude": 77.1732568,
		"longitude": 28.8564511
	}, {
		"latitude": 77.1731505,
		"longitude": 28.8556919
	}, {
		"latitude": 77.1727654,
		"longitude": 28.8548499
	}, {
		"latitude": 77.1720605,
		"longitude": 28.8500537
	}, {
		"latitude": 77.1699684,
		"longitude": 28.8506175
	}, {
		"latitude": 77.1689362,
		"longitude": 28.8504785
	}, {
		"latitude": 77.1670823,
		"longitude": 28.8488339
	}, {
		"latitude": 77.1662991,
		"longitude": 28.8493245
	}, {
		"latitude": 77.1626406,
		"longitude": 28.845073
	}, {
		"latitude": 77.1586709,
		"longitude": 28.8403365
	}, {
		"latitude": 77.1570938,
		"longitude": 28.8392144
	}, {
		"latitude": 77.156714,
		"longitude": 28.8385114
	}, {
		"latitude": 77.1570466,
		"longitude": 28.8375527
	}, {
		"latitude": 77.157995,
		"longitude": 28.8368479
	}, {
		"latitude": 77.1529996,
		"longitude": 28.8376881
	}, {
		"latitude": 77.1490557,
		"longitude": 28.8379813
	}, {
		"latitude": 77.1452792,
		"longitude": 28.8380509
	}, {
		"latitude": 77.1440926,
		"longitude": 28.8387482
	}, {
		"latitude": 77.1422365,
		"longitude": 28.8394286
	}, {
		"latitude": 77.1422451,
		"longitude": 28.8414981
	}, {
		"latitude": 77.1414254,
		"longitude": 28.8424623
	}, {
		"latitude": 77.1415541,
		"longitude": 28.8433382
	}, {
		"latitude": 77.1419425,
		"longitude": 28.8472401
	}, {
		"latitude": 77.1452534,
		"longitude": 28.8520703
	}, {
		"latitude": 77.1455152,
		"longitude": 28.8537016
	}, {
		"latitude": 77.1445324,
		"longitude": 28.8546789
	}, {
		"latitude": 77.1437063,
		"longitude": 28.8546855
	}, {
		"latitude": 77.1429049,
		"longitude": 28.8553019
	}, {
		"latitude": 77.1423309,
		"longitude": 28.8557802
	}, {
		"latitude": 77.1418706,
		"longitude": 28.8565038
	}, {
		"latitude": 77.1409844,
		"longitude": 28.8591752
	}, {
		"latitude": 77.1411668,
		"longitude": 28.8603591
	}, {
		"latitude": 77.1409372,
		"longitude": 28.860625
	}, {
		"latitude": 77.1403321,
		"longitude": 28.8606655
	}, {
		"latitude": 77.1402227,
		"longitude": 28.8617488
	}, {
		"latitude": 77.1340944,
		"longitude": 28.8628106
	}, {
		"latitude": 77.1337392,
		"longitude": 28.8631272
	}, {
		"latitude": 77.1328455,
		"longitude": 28.8624911
	}, {
		"latitude": 77.1305388,
		"longitude": 28.8621313
	}, {
		"latitude": 77.1247002,
		"longitude": 28.8595153
	}, {
		"latitude": 77.1249212,
		"longitude": 28.8580185
	}, {
		"latitude": 77.1243,
		"longitude": 28.8575487
	}, {
		"latitude": 77.1228816,
		"longitude": 28.8579302
	}, {
		"latitude": 77.1218601,
		"longitude": 28.8579549
	}, {
		"latitude": 77.1193946,
		"longitude": 28.8607625
	}, {
		"latitude": 77.117045,
		"longitude": 28.8623862
	}, {
		"latitude": 77.1153928,
		"longitude": 28.8642917
	}, {
		"latitude": 77.109994,
		"longitude": 28.8698953
	}, {
		"latitude": 77.1079534,
		"longitude": 28.8696811
	}, {
		"latitude": 77.1032198,
		"longitude": 28.8705455
	}, {
		"latitude": 77.0971387,
		"longitude": 28.8706939
	}, {
		"latitude": 77.0944449,
		"longitude": 28.871468
	}, {
		"latitude": 77.0932806,
		"longitude": 28.8718026
	}, {
		"latitude": 77.087824,
		"longitude": 28.8755418
	}, {
		"latitude": 77.0882982,
		"longitude": 28.8766842
	}, {
		"latitude": 77.0876201,
		"longitude": 28.8810133
	}, {
		"latitude": 77.0867446,
		"longitude": 28.8817047
	}, {
		"latitude": 77.0825883,
		"longitude": 28.8834464
	}, {
		"latitude": 77.082142,
		"longitude": 28.8814379
	}, {
		"latitude": 77.0805005,
		"longitude": 28.8792847
	}, {
		"latitude": 77.0774384,
		"longitude": 28.8770224
	}, {
		"latitude": 77.0793396,
		"longitude": 28.8716635
	}, {
		"latitude": 77.0787302,
		"longitude": 28.8715686
	}, {
		"latitude": 77.0781337,
		"longitude": 28.8709739
	}, {
		"latitude": 77.0777796,
		"longitude": 28.8707193
	}, {
		"latitude": 77.0776455,
		"longitude": 28.8703435
	}, {
		"latitude": 77.0769052,
		"longitude": 28.869744
	}, {
		"latitude": 77.0754536,
		"longitude": 28.8689201
	}, {
		"latitude": 77.0746747,
		"longitude": 28.8671913
	}, {
		"latitude": 77.0734055,
		"longitude": 28.8677071
	}, {
		"latitude": 77.0726362,
		"longitude": 28.8682915
	}, {
		"latitude": 77.0720966,
		"longitude": 28.8687688
	}, {
		"latitude": 77.0712844,
		"longitude": 28.8686946
	}, {
		"latitude": 77.0704218,
		"longitude": 28.867817
	}, {
		"latitude": 77.0699358,
		"longitude": 28.8678029
	}, {
		"latitude": 77.0695109,
		"longitude": 28.8675098
	}, {
		"latitude": 77.0692888,
		"longitude": 28.8670297
	}, {
		"latitude": 77.0638364,
		"longitude": 28.8692094
	}, {
		"latitude": 77.0612207,
		"longitude": 28.8707183
	}, {
		"latitude": 77.0583014,
		"longitude": 28.8680162
	}, {
		"latitude": 77.0559078,
		"longitude": 28.8644571
	}, {
		"latitude": 77.0543843,
		"longitude": 28.8624219
	}, {
		"latitude": 77.0537095,
		"longitude": 28.861861
	}, {
		"latitude": 77.053684,
		"longitude": 28.8618282
	}, {
		"latitude": 77.0531494,
		"longitude": 28.8611412
	}, {
		"latitude": 77.0529284,
		"longitude": 28.8608791
	}, {
		"latitude": 77.0526613,
		"longitude": 28.8600193
	}, {
		"latitude": 77.0520723,
		"longitude": 28.859106
	}, {
		"latitude": 77.0518748,
		"longitude": 28.8580451
	}, {
		"latitude": 77.051803,
		"longitude": 28.8567982
	}, {
		"latitude": 77.051127,
		"longitude": 28.8549442
	}, {
		"latitude": 77.0511324,
		"longitude": 28.8545524
	}, {
		"latitude": 77.0499093,
		"longitude": 28.8528036
	}, {
		"latitude": 77.0481122,
		"longitude": 28.8503237
	}, {
		"latitude": 77.0471424,
		"longitude": 28.849384
	}, {
		"latitude": 77.0466252,
		"longitude": 28.8482554
	}, {
		"latitude": 77.0459944,
		"longitude": 28.8476981
	}, {
		"latitude": 77.0455577,
		"longitude": 28.8470421
	}, {
		"latitude": 77.0454847,
		"longitude": 28.8465074
	}, {
		"latitude": 77.0452337,
		"longitude": 28.845906
	}, {
		"latitude": 77.0453404,
		"longitude": 28.8451614
	}, {
		"latitude": 77.0454504,
		"longitude": 28.844439
	}, {
		"latitude": 77.0454912,
		"longitude": 28.8422042
	}, {
		"latitude": 77.0449278,
		"longitude": 28.8401822
	}, {
		"latitude": 77.0446332,
		"longitude": 28.8401813
	}, {
		"latitude": 77.0427584,
		"longitude": 28.8386475
	}, {
		"latitude": 77.0420573,
		"longitude": 28.837733
	}, {
		"latitude": 77.0419773,
		"longitude": 28.8370911
	}, {
		"latitude": 77.0427986,
		"longitude": 28.8349986
	}, {
		"latitude": 77.0422193,
		"longitude": 28.8335836
	}, {
		"latitude": 77.0413357,
		"longitude": 28.8330328
	}, {
		"latitude": 77.0401717,
		"longitude": 28.8318035
	}, {
		"latitude": 77.0386192,
		"longitude": 28.8327631
	}, {
		"latitude": 77.036791,
		"longitude": 28.8333091
	}, {
		"latitude": 77.0352246,
		"longitude": 28.8341607
	}, {
		"latitude": 77.0336925,
		"longitude": 28.8345366
	}, {
		"latitude": 77.032596,
		"longitude": 28.8351297
	}, {
		"latitude": 77.0308665,
		"longitude": 28.8357443
	}, {
		"latitude": 77.0282015,
		"longitude": 28.8366052
	}, {
		"latitude": 77.0271329,
		"longitude": 28.8368712
	}, {
		"latitude": 77.0260182,
		"longitude": 28.8377894
	}, {
		"latitude": 77.0233789,
		"longitude": 28.8391428
	}, {
		"latitude": 77.0201635,
		"longitude": 28.8393176
	}, {
		"latitude": 77.0180145,
		"longitude": 28.8399567
	}, {
		"latitude": 77.0148752,
		"longitude": 28.8405553
	}, {
		"latitude": 77.0094271,
		"longitude": 28.8408081
	}, {
		"latitude": 77.0057342,
		"longitude": 28.8402038
	}, {
		"latitude": 76.9997511,
		"longitude": 28.8384055
	}, {
		"latitude": 76.9991553,
		"longitude": 28.8382265
	}, {
		"latitude": 76.9943617,
		"longitude": 28.839624
	}, {
		"latitude": 76.9930485,
		"longitude": 28.8387659
	}, {
		"latitude": 76.9904864,
		"longitude": 28.8377904
	}, {
		"latitude": 76.9891432,
		"longitude": 28.8356419
	}, {
		"latitude": 76.9871245,
		"longitude": 28.8343821
	}, {
		"latitude": 76.9865838,
		"longitude": 28.8297485
	}, {
		"latitude": 76.9849809,
		"longitude": 28.8268272
	}, {
		"latitude": 76.9803353,
		"longitude": 28.8214864
	}, {
		"latitude": 76.9771446,
		"longitude": 28.8226369
	}, {
		"latitude": 76.9759558,
		"longitude": 28.8227553
	}, {
		"latitude": 76.9747778,
		"longitude": 28.825047
	}, {
		"latitude": 76.9733358,
		"longitude": 28.8266693
	}, {
		"latitude": 76.9723016,
		"longitude": 28.8270697
	}, {
		"latitude": 76.9713489,
		"longitude": 28.8276374
	}, {
		"latitude": 76.9702588,
		"longitude": 28.8274908
	}, {
		"latitude": 76.9681474,
		"longitude": 28.8278386
	}, {
		"latitude": 76.9667848,
		"longitude": 28.8275134
	}, {
		"latitude": 76.9658257,
		"longitude": 28.8276882
	}, {
		"latitude": 76.9656776,
		"longitude": 28.8258384
	}, {
		"latitude": 76.9648601,
		"longitude": 28.8253459
	}, {
		"latitude": 76.964491,
		"longitude": 28.8246202
	}, {
		"latitude": 76.9649159,
		"longitude": 28.8241333
	}, {
		"latitude": 76.9637651,
		"longitude": 28.8227318
	}, {
		"latitude": 76.963999,
		"longitude": 28.8223929
	}, {
		"latitude": 76.9640135,
		"longitude": 28.8220508
	}, {
		"latitude": 76.9648279,
		"longitude": 28.8211818
	}, {
		"latitude": 76.9647473,
		"longitude": 28.8207592
	}, {
		"latitude": 76.9649227,
		"longitude": 28.8201393
	}, {
		"latitude": 76.9647398,
		"longitude": 28.8198474
	}, {
		"latitude": 76.964515,
		"longitude": 28.8196411
	}, {
		"latitude": 76.9626064,
		"longitude": 28.8162199
	}, {
		"latitude": 76.9622389,
		"longitude": 28.8158176
	}, {
		"latitude": 76.9617014,
		"longitude": 28.8148997
	}, {
		"latitude": 76.9611457,
		"longitude": 28.8149981
	}, {
		"latitude": 76.9605964,
		"longitude": 28.815303
	}, {
		"latitude": 76.9590064,
		"longitude": 28.8153274
	}, {
		"latitude": 76.9571138,
		"longitude": 28.8163972
	}, {
		"latitude": 76.9512237,
		"longitude": 28.8182528
	}, {
		"latitude": 76.9492131,
		"longitude": 28.8160776
	}, {
		"latitude": 76.9482904,
		"longitude": 28.8141956
	}, {
		"latitude": 76.9474472,
		"longitude": 28.8136015
	}, {
		"latitude": 76.9471918,
		"longitude": 28.8124208
	}, {
		"latitude": 76.9454022,
		"longitude": 28.8097736
	}, {
		"latitude": 76.9467562,
		"longitude": 28.8080626
	}, {
		"latitude": 76.9458057,
		"longitude": 28.8047158
	}, {
		"latitude": 76.9434539,
		"longitude": 28.8015155
	}, {
		"latitude": 76.9422415,
		"longitude": 28.798302
	}, {
		"latitude": 76.9442113,
		"longitude": 28.7982381
	}, {
		"latitude": 76.9466768,
		"longitude": 28.7975348
	}, {
		"latitude": 76.9479858,
		"longitude": 28.7959853
	}, {
		"latitude": 76.9497324,
		"longitude": 28.7947217
	}, {
		"latitude": 76.9540282,
		"longitude": 28.7902781
	}, {
		"latitude": 76.9514876,
		"longitude": 28.7871921
	}, {
		"latitude": 76.9500607,
		"longitude": 28.7832071
	}, {
		"latitude": 76.9483076,
		"longitude": 28.7797729
	}, {
		"latitude": 76.9502173,
		"longitude": 28.7753325
	}, {
		"latitude": 76.955262,
		"longitude": 28.7694153
	}, {
		"latitude": 76.9556504,
		"longitude": 28.7676623
	}, {
		"latitude": 76.95133,
		"longitude": 28.7633688
	}, {
		"latitude": 76.9509481,
		"longitude": 28.7630068
	}, {
		"latitude": 76.9504556,
		"longitude": 28.7629381
	}, {
		"latitude": 76.9497883,
		"longitude": 28.7623437
	}, {
		"latitude": 76.9474623,
		"longitude": 28.7594422
	}, {
		"latitude": 76.9467445,
		"longitude": 28.7587499
	}, {
		"latitude": 76.9457177,
		"longitude": 28.7572508
	}, {
		"latitude": 76.9444259,
		"longitude": 28.7538892
	}, {
		"latitude": 76.9505414,
		"longitude": 28.7503544
	}, {
		"latitude": 76.9534415,
		"longitude": 28.7478051
	}, {
		"latitude": 76.9559208,
		"longitude": 28.7458845
	}, {
		"latitude": 76.9565185,
		"longitude": 28.7450641
	}, {
		"latitude": 76.9587554,
		"longitude": 28.7428367
	}, {
		"latitude": 76.9579937,
		"longitude": 28.7417378
	}, {
		"latitude": 76.9567234,
		"longitude": 28.7392205
	}, {
		"latitude": 76.9562616,
		"longitude": 28.7385321
	}, {
		"latitude": 76.9560292,
		"longitude": 28.7381857
	}, {
		"latitude": 76.9563447,
		"longitude": 28.7374293
	}, {
		"latitude": 76.9584378,
		"longitude": 28.7357004
	}, {
		"latitude": 76.9585959,
		"longitude": 28.7353843
	}, {
		"latitude": 76.9597939,
		"longitude": 28.7329891
	}, {
		"latitude": 76.9598573,
		"longitude": 28.7319701
	}, {
		"latitude": 76.9596502,
		"longitude": 28.7309719
	}, {
		"latitude": 76.9598369,
		"longitude": 28.7299219
	}, {
		"latitude": 76.9597831,
		"longitude": 28.7295353
	}, {
		"latitude": 76.9558714,
		"longitude": 28.7234529
	}, {
		"latitude": 76.951228,
		"longitude": 28.7179393
	}, {
		"latitude": 76.9481166,
		"longitude": 28.7124612
	}, {
		"latitude": 76.95167,
		"longitude": 28.7099695
	}, {
		"latitude": 76.9613796,
		"longitude": 28.7037945
	}, {
		"latitude": 76.9664769,
		"longitude": 28.7000852
	}, {
		"latitude": 76.968025,
		"longitude": 28.6991996
	}, {
		"latitude": 76.9664082,
		"longitude": 28.6978491
	}, {
		"latitude": 76.9644266,
		"longitude": 28.6951971
	}, {
		"latitude": 76.963476,
		"longitude": 28.6934306
	}, {
		"latitude": 76.9632217,
		"longitude": 28.6920575
	}, {
		"latitude": 76.9613603,
		"longitude": 28.6895521
	}, {
		"latitude": 76.9595825,
		"longitude": 28.6877225
	}, {
		"latitude": 76.958883,
		"longitude": 28.6864057
	}, {
		"latitude": 76.9574303,
		"longitude": 28.6839624
	}, {
		"latitude": 76.9567565,
		"longitude": 28.6807923
	}, {
		"latitude": 76.9559905,
		"longitude": 28.6760737
	}, {
		"latitude": 76.9556161,
		"longitude": 28.6715733
	}, {
		"latitude": 76.9545013,
		"longitude": 28.6695739
	}, {
		"latitude": 76.9511695,
		"longitude": 28.6705661
	}, {
		"latitude": 76.9490489,
		"longitude": 28.6713417
	}, {
		"latitude": 76.9451329,
		"longitude": 28.6716072
	}, {
		"latitude": 76.9445986,
		"longitude": 28.671128
	}, {
		"latitude": 76.9439173,
		"longitude": 28.670824
	}, {
		"latitude": 76.9373684,
		"longitude": 28.6702357
	}, {
		"latitude": 76.9354545,
		"longitude": 28.6677178
	}, {
		"latitude": 76.9348301,
		"longitude": 28.6672824
	}, {
		"latitude": 76.9332154,
		"longitude": 28.6651803
	}, {
		"latitude": 76.933181,
		"longitude": 28.6643872
	}, {
		"latitude": 76.9325722,
		"longitude": 28.6622379
	}, {
		"latitude": 76.9322326,
		"longitude": 28.6613591
	}, {
		"latitude": 76.9316844,
		"longitude": 28.660622
	}, {
		"latitude": 76.9311887,
		"longitude": 28.6592819
	}, {
		"latitude": 76.9245164,
		"longitude": 28.6496429
	}, {
		"latitude": 76.9292174,
		"longitude": 28.6457753
	}, {
		"latitude": 76.9307597,
		"longitude": 28.6427768
	}, {
		"latitude": 76.9326844,
		"longitude": 28.6412477
	}, {
		"latitude": 76.9352872,
		"longitude": 28.6389012
	}, {
		"latitude": 76.9367807,
		"longitude": 28.6374868
	}, {
		"latitude": 76.9398534,
		"longitude": 28.6350517
	}, {
		"latitude": 76.9443942,
		"longitude": 28.6330563
	}, {
		"latitude": 76.9435575,
		"longitude": 28.6308134
	}, {
		"latitude": 76.943248,
		"longitude": 28.6299836
	}, {
		"latitude": 76.9423962,
		"longitude": 28.6272319
	}, {
		"latitude": 76.939244,
		"longitude": 28.6231673
	}, {
		"latitude": 76.9372056,
		"longitude": 28.6210841
	}, {
		"latitude": 76.9352663,
		"longitude": 28.6184416
	}, {
		"latitude": 76.9335518,
		"longitude": 28.6190485
	}, {
		"latitude": 76.9277947,
		"longitude": 28.6232448
	}, {
		"latitude": 76.9245691,
		"longitude": 28.6271453
	}, {
		"latitude": 76.9210608,
		"longitude": 28.6307577
	}, {
		"latitude": 76.9191339,
		"longitude": 28.631479
	}, {
		"latitude": 76.9142339,
		"longitude": 28.6321799
	}, {
		"latitude": 76.9087248,
		"longitude": 28.6270511
	}, {
		"latitude": 76.9065341,
		"longitude": 28.6236245
	}, {
		"latitude": 76.902185,
		"longitude": 28.6261962
	}, {
		"latitude": 76.8929384,
		"longitude": 28.631366
	}, {
		"latitude": 76.8893571,
		"longitude": 28.6318048
	}, {
		"latitude": 76.8852678,
		"longitude": 28.6283153
	}, {
		"latitude": 76.8842712,
		"longitude": 28.6259852
	}, {
		"latitude": 76.8845249,
		"longitude": 28.6237178
	}, {
		"latitude": 76.880428,
		"longitude": 28.6144297
	}, {
		"latitude": 76.8780984,
		"longitude": 28.6091845
	}, {
		"latitude": 76.8743501,
		"longitude": 28.6048673
	}, {
		"latitude": 76.8718455,
		"longitude": 28.6030003
	}, {
		"latitude": 76.8703656,
		"longitude": 28.5973328
	}, {
		"latitude": 76.8681209,
		"longitude": 28.5912896
	}, {
		"latitude": 76.8666635,
		"longitude": 28.5887345
	}, {
		"latitude": 76.8653824,
		"longitude": 28.5873666
	}, {
		"latitude": 76.8646101,
		"longitude": 28.5855295
	}, {
		"latitude": 76.8571054,
		"longitude": 28.5852591
	}, {
		"latitude": 76.8462014,
		"longitude": 28.5845749
	}, {
		"latitude": 76.8460105,
		"longitude": 28.5845629
	}, {
		"latitude": 76.8443978,
		"longitude": 28.5841095
	}, {
		"latitude": 76.8427697,
		"longitude": 28.5835937
	}, {
		"latitude": 76.8394661,
		"longitude": 28.5825448
	}, {
		"latitude": 76.8394359,
		"longitude": 28.5825354
	}, {
		"latitude": 76.8388351,
		"longitude": 28.5732306
	}])
	const [query, setQuery] = useState('')
	const [region, setRegion] = useState({
		latitude: 28.6273928,
		longitude: 77.1716954,
		latitudeDelta: 0.50,
		longitudeDelta: 0.50
	})

	const handleMapsPress = (event: MapPressEvent): void => {
		Keyboard.dismiss();
		return
		console.log("event.nativeEvent=>>", event.nativeEvent)
		if (event.nativeEvent) {
			const { coordinate, action } = event.nativeEvent
			if (action == 'marker-press') {
				const cord = [...cordinitis];
				const data = cord.filter((item) => {
					if (item.latitude == coordinate.latitude && item.longitude == coordinate.longitude) return false
					return true
				})
				setCodinites(data)
				return
			}
			setCodinites((prev) => [...prev, coordinate])
		}
	}
	const getAdministritiveArea = (data: any): any => {
		console.log("data", data);

		for (let i = 0; i <= data.length; i++) {
			const item = data[i]
			if (item.type == 'administrative') {
				return item
			}
		}
	}

	const handleSearch = () => {
		if (query.trim() == '') return

		getAreas<any>(query).then(({ data }) => {
			const adminArea = getAdministritiveArea(data);
			console.log("adminArea", adminArea);

			if (adminArea) {
				// setCodinites(adminArea.geojson?.coordinates[0])
				console.log("adminArea.geojsno?.coordinates[0]", adminArea.geojson?.coordinates)
				const updatedData = adminArea.geojson?.coordinates[0].map((item: any) => {
					return {
						longitude: item[0],
						latitude: item[1]
					}
				})
				// setRegion(adminArea.boundingbox)
				const { lat, lon, geojson } = adminArea
				setRegion({
					latitude: lat,
					longitude: lon,
					latitudeDelta: 0.50,
					longitudeDelta: 0.40
				})
				console.log("updatedData", updatedData);

				setCodinites(updatedData)

			} else {
				Alert.alert('Unable to find Area. Please try again')

			}
		}).catch((err) => {
			console.log("error", err)
			Alert.alert(err)
		})
	}




	console.log("cordinitis", cordinitis);

	return <SafeAreaView style={{ flex: 1 }}>
		<View style={{ flex: 1, }}>
			<TextInput
				style={styles.inputSearch}
				value={query}
				onChangeText={(text: string) => setQuery(text)}
				returnKeyType={'done'}
				onSubmitEditing={handleSearch}
			/>
			<MapView
				//    provider={PROVIDER_GOOGLE} // remove if not using Google Maps
				style={styles.map}
				region={region}
				onPress={handleMapsPress}
			>
				{/* {cordinitis.length > 0 && cordinitis.map((item: LatLng, index: number) =>
					<Marker
						key={index}
						coordinate={item}
						draggable={true}
					/>
				)} */}
				{/* {cordinitis.length > 1 &&
                    <MapViewDirections
                        origin={cordinitis[0]}
                        destination={cordinitis[1]}
                    apikey={GOOGLE_MAP_KEY}
                    />
                } */}

				{/* <Polyline
					coordinates={cordinitis}
					strokeColor={'red'}
					strokeWidth={3}
				/> */}
				<Polygon
					coordinates={cordinitis}
					strokeColor={'red'}
					strokeWidth={3}
				/>

			</MapView>
			{/* <Button
				title="Clear All markers"
				onPress={() => setCodinites([])}
				containerStyle={styles.buttonContainer}
			/> */}
		</View>

	</SafeAreaView>
}

export default PlansScreen

